## 索引
> 索引是在磁盘上组织 数据记录的一种数据结构, 用于优化某类数据检索的操作, 使得我们能够有效地检索满足索引的搜索码字段上的搜索条件的记录. 
> 可以在一个给定的数据记录集合上创建多个索引, `每个索引与一个特定的搜索码相关联`, 以支持那些不能被文件组织有效支持的搜索操作. 

* 两种索引类型: 
<p> 顺序索引: 基于值的顺序排序. </p>
<p> 散列索引: 基于一个哈希函数将值平均分布到若干散列桶中. </p>


### 1.顺序索引 
顺序索引按顺序存储搜索码的值, 并将每个搜索码与包含该搜索码的记录关联起来. 
被索引文件中的记录也可以按照某种顺序存储. 
一个文件可以有多个索引,分别基于不同的搜索码. 

* 聚集索引: 文件中的记录按照索引指定的顺序排列 
* 非聚集索引: 搜索码指定的顺序与文件中记录的物理顺序`不同`的索引

* 主索引: 聚集索引也称主索引, 主索引可以建立在`主码`上也可以建立在`任何`搜索码上. 
* 辅助索引: 

* 稠密索引: 文件中的每个搜索码值都有一个索引项, 索引项存储指向所有具有相同搜索码值的记录的指针. 
* 稀疏索引: 只为搜索码的某些值建立索引项, 只有聚集索引才能使用稀疏索引, 每个索引项包括一个搜索码值和指向具有该搜索码值的`第一条`数据记录的指针. 

* 多级索引
对于索引过大的情况可以在原始索引的基础上再构造一个稀疏的外层索引, 从而减少搜索记录所需的I/O操作次数. 

#### MySQL的索引实现
> 在MySQL中,索引属于存储引擎级别的概念, 不同的存储引擎对索引的实现方式是不同的.

##### MyISAM
* `主索引`和`辅助索引`在结构上都是基于B+树实现, 
* B+树的叶节点存放的都只是数据记录的`地址`, (因此MyISAM的索引方式也叫做`非聚集的`)
* 唯一的区别是`主索引`要求所有的key值是唯一的, 而`辅助索引`的key值可以重复. 

##### InnoDB
* `主索引`的B+树的叶节点保存了完整的`数据记录`, (`聚集的`索引方式)
* 而`辅助索引`的叶节点保存的是对应记录`主键的值`, 而不是`记录的地址`
* 因为记录是按照主索引的顺序存储, 所以表格必须要有`主键`, 如果没有指定, 则会自动生成

### 1. 散列索引
#### 静态散列
* 桶(bucket): 能存储一条或多条记录的一个存储单元, 通常一个磁盘块作为一个`桶`. 

* 令K表示所有搜索码值的集合, B表示所有桶地址的集合, 则`散列函数`h是一个从K到B的函数. 

* 理想的散列函数应该把搜索码均匀地分配到所有同中, 使得每个同有相同书目的记录. 

#### 动态散列
* 可扩充散列