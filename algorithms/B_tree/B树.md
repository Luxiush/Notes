# B树

## 概念
## ... 
* 针对磁盘而设计的数据结构
* 二叉搜索树的推广
* 性质
1. 最小度数t（t>=2)：每个节点的最小子节点数（根节点除外）
2. 每个节点至少包含t个子节点，t-1个关键字（根节点除外）
3. 每个节点至多包含2t-1个关键字，一个内部节点至多包含2t个子节点
4. 关键字以非降序存放：x.key_1<=x.key_2<=x.key3_<=...<=x.key_n
5. 每个节点的关键字对存储在子树中的关键字范围加以分割:
   令k_i为一个任意一个存储在x.c_i为根的子树中的关键字，则：
   k_1<=x.key_1<=k_2<=x.key_2<=...<=x.key_n<=k_(x.n+1)

## 基本操作
### 搜索关键字
类似二分查找,只是在每个节点所做的不是二路分支选择而是根据节点的孩子数做多路分支选择. 
搜索过程搜索过程中所访问的磁盘的页面数为$O(h) = O(log_{t}{n})$(其中h为树的高度), 在每个节点中花费的时间为O(t), 所以总的cpu时间为$O(th) = O(t*log_{t}{n}$

### 插入关键字 
沿着树根往下查找新的关键字的所属位置, 并分裂沿途遇到的满节点. 
需要O(h)次磁盘存取, 分裂节点花费Θ(t)CPU时间, 

* 满节点分裂操作

### 删除关键字
必须保证一个节点不会在删除期间变得太小, 即节点x递归调用自身时,x中的关键字个数至少为最小度数t(不是t-1), 

1. 关键字k在节点x中, 并且x是叶节点
2. 关键字k在节点x中, 并且x是内部节点
3. 关键字k不再当前节点x中




# B+树
## [与B树的差异]( https://www.tuicool.com/articles/fYz6jy )
1. 有n棵子树的节点含有n个关键字(而B树仅有n-1个关键字)
2. 所有的叶子节点按序构成一个链表, 包含了全部关键字的信息. 每个叶节点存放指向对应数据的指针. 
3. 所有的内部节点仅起索引的作用, 并不包含指向关键字具体信息的指针(而B树的内部节点也包含有效的信息)

## 特点
1. 磁盘读写代价更低: 内部节点没有具体信息, 省下的空间可以用来存放更多的关键字
2. 查询效率更加稳定: 由于所有具体信息都存放在叶节点, 所以每次查找都必须走一条从根节点到叶子节点的路径. 这样所有关键字的查询路径长度相等, 查询效率相当. 



